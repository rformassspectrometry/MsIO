<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load content from a MetaboLights study — MetaboLightsParam • MsIO</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load content from a MetaboLights study — MetaboLightsParam"><meta name="description" content='The MetaboLightsParam class and the associated readMsObject() method
allow users to load an MsExperiment object from a study in the
MetaboLights database (https://www.ebi.ac.uk/metabolights/index) by
providing its unique study mtblsId. This function is particularly useful
for importing metabolomics data into an MsExperiment object for further
analysis in the R environment.
It is important to note that at present it is only possible to read
(import) data from MetaboLights, but not to save data to MetaboLights.
If the study contains multiple assays, the user will be prompted to select
which assay to load. The resulting MsExperiment object will include a
sampleData slot populated with data extracted from the selected assay.
Users can define how to filter this sampleData table by specifying a few
parameters. The keepOntology parameter is set to TRUE by default, meaning
that all ontology-related columns are retained. If set to FALSE, they are
removed. If ontology columns are kept, some column names may be duplicated and
therefore numbered. The order of these columns is important, as it reflects the
assay and sample information available in MetaboLights.
The keepProtocol parameter is also set to TRUE by default, meaning that
all columns related to protocols are kept. If set to FALSE, they are removed.
The simplify parameter (default simplify = TRUE) allows to define
whether duplicated columns or columns containing only missing values should
be removed. In the case of duplicated content, only the first occurring
column will be retained.
Further filtering can be performed using the filePattern parameter of the
MetaboLightsParam object. The default for this parameter is
"mzML$|CDF$|cdf$|mzXML$", which corresponds to the supported raw data file
types.'><meta property="og:description" content='The MetaboLightsParam class and the associated readMsObject() method
allow users to load an MsExperiment object from a study in the
MetaboLights database (https://www.ebi.ac.uk/metabolights/index) by
providing its unique study mtblsId. This function is particularly useful
for importing metabolomics data into an MsExperiment object for further
analysis in the R environment.
It is important to note that at present it is only possible to read
(import) data from MetaboLights, but not to save data to MetaboLights.
If the study contains multiple assays, the user will be prompted to select
which assay to load. The resulting MsExperiment object will include a
sampleData slot populated with data extracted from the selected assay.
Users can define how to filter this sampleData table by specifying a few
parameters. The keepOntology parameter is set to TRUE by default, meaning
that all ontology-related columns are retained. If set to FALSE, they are
removed. If ontology columns are kept, some column names may be duplicated and
therefore numbered. The order of these columns is important, as it reflects the
assay and sample information available in MetaboLights.
The keepProtocol parameter is also set to TRUE by default, meaning that
all columns related to protocols are kept. If set to FALSE, they are removed.
The simplify parameter (default simplify = TRUE) allows to define
whether duplicated columns or columns containing only missing values should
be removed. In the case of duplicated content, only the first occurring
column will be retained.
Further filtering can be performed using the filePattern parameter of the
MetaboLightsParam object. The default for this parameter is
"mzML$|CDF$|cdf$|mzXML$", which corresponds to the supported raw data file
types.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MsIO</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MsIO.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/MsIO/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load content from a MetaboLights study</h1>
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/MsIO/blob/main/R/MetaboLightsParam.R" class="external-link"><code>R/MetaboLightsParam.R</code></a>, <a href="https://github.com/RforMassSpectrometry/MsIO/blob/main/R/MsExperiment.R" class="external-link"><code>R/MsExperiment.R</code></a></small>
      <div class="d-none name"><code>MetaboLightsParam.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>MetaboLightsParam</code> class and the associated <code><a href="saveMsObject.html">readMsObject()</a></code> method
allow users to load an <code>MsExperiment</code> object from a study in the
MetaboLights database (https://www.ebi.ac.uk/metabolights/index) by
providing its unique study <code>mtblsId</code>. This function is particularly useful
for importing metabolomics data into an <code>MsExperiment</code> object for further
analysis in the R environment.
It is important to note that at present it is only possible to <em>read</em>
(import) data from MetaboLights, but not to <em>save</em> data to MetaboLights.</p>
<p>If the study contains multiple assays, the user will be prompted to select
which assay to load. The resulting <code>MsExperiment</code> object will include a
<code>sampleData</code> slot populated with data extracted from the selected assay.</p>
<p>Users can define how to filter this <code>sampleData</code> table by specifying a few
parameters. The <code>keepOntology</code> parameter is set to <code>TRUE</code> by default, meaning
that all ontology-related columns are retained. If set to <code>FALSE</code>, they are
removed. If ontology columns are kept, some column names may be duplicated and
therefore numbered. The order of these columns is important, as it reflects the
assay and sample information available in MetaboLights.</p>
<p>The <code>keepProtocol</code> parameter is also set to <code>TRUE</code> by default, meaning that
all columns related to protocols are kept. If set to <code>FALSE</code>, they are removed.
The <code>simplify</code> parameter (default <code>simplify = TRUE</code>) allows to define
whether duplicated columns or columns containing only missing values should
be removed. In the case of duplicated content, only the first occurring
column will be retained.</p>
<p>Further filtering can be performed using the <code>filePattern</code> parameter of the
<code>MetaboLightsParam</code> object. The default for this parameter is
<code>"mzML$|CDF$|cdf$|mzXML$"</code>, which corresponds to the supported raw data file
types.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MetaboLightsParam</span><span class="op">(</span></span>
<span>  mtblsId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  assayName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  filePattern <span class="op">=</span> <span class="st">"mzML$|CDF$|cdf$|mzXML$"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'MsExperiment,MetaboLightsParam'</span></span>
<span><span class="fu"><a href="saveMsObject.html">readMsObject</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">param</span>,</span>
<span>  keepOntology <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keepProtocol <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mtblsid">mtblsId<a class="anchor" aria-label="anchor" href="#arg-mtblsid"></a></dt>
<dd><p><code>character(1)</code> The MetaboLights study ID, which should
start with "MTBL". This identifier uniquely specifies the study within the
MetaboLights database.</p></dd>


<dt id="arg-assayname">assayName<a class="anchor" aria-label="anchor" href="#arg-assayname"></a></dt>
<dd><p><code>character(1)</code> The name of the assay to load. If the study
contains multiple assays and this parameter is not specified, the user will
be prompted to select which assay to load.</p></dd>


<dt id="arg-filepattern">filePattern<a class="anchor" aria-label="anchor" href="#arg-filepattern"></a></dt>
<dd><p><code>character(1)</code> A regular expression pattern to filter the
raw data files associated with the selected assay. The default value is
<code>"mzML$|CDF$|cdf$|mzXML$"</code>, corresponding to the supported raw data file
types.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>for <code><a href="saveMsObject.html">saveMsObject()</a></code>: the MS data object to save, for
<code><a href="saveMsObject.html">readMsObject()</a></code>: the MS data object that should be returned</p></dd>


<dt id="arg-param">param<a class="anchor" aria-label="anchor" href="#arg-param"></a></dt>
<dd><p>an object defining and (eventually configuring) the file format
and file name or directory to/from which the data object should be
exported/imported.</p></dd>


<dt id="arg-keepontology">keepOntology<a class="anchor" aria-label="anchor" href="#arg-keepontology"></a></dt>
<dd><p><code>logical(1)</code> Whether to keep columns related to ontology
in the <code>sampleData</code> parameter. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-keepprotocol">keepProtocol<a class="anchor" aria-label="anchor" href="#arg-keepprotocol"></a></dt>
<dd><p><code>logical(1)</code> Whether to keep columns related to protocols
information in the <code>sampleData</code> parameter. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-simplify">simplify<a class="anchor" aria-label="anchor" href="#arg-simplify"></a></dt>
<dd><p><code>logical(1)</code> Whether to simplify the <code>sampleData</code> table by
removing columns filled with NAs or duplicated content. Default is <code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional optional arguments. See documentation of respective
method for more information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>MsExperiment</code> object with the <code>sampleData</code> parameter populated using
MetaboLights sample and assay information. The spectra data is represented
as a <code>MsBackendMetabolights</code> object, generated from the raw data files
associated with the selected assay of the specified MetaboLights ID
(<code>mtblsId</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code>MsExperiment</code> object, defined in the
(<a href="https://bioconductor.org/packages/MsExperiment" class="external-link">MsExperiment</a>) package.</p></li>
<li><p><code>MsBackendMetaboLights</code> object, defined in the
(<a href="https://github.com/rformassspectrometry/MsBackendMetaboLights" class="external-link">MsBackendMetaboLights</a>)
repository.</p></li>
<li><p><a href="https://www.ebi.ac.uk/metabolights/index" class="external-link">MetaboLights</a> for accessing
the MetaboLights database.</p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Philippine Louail</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/MsExperiment" class="external-link">MsExperiment</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Load a study with the mtblsId "MTBLS39" and selecting specific file pattern</span></span></span>
<span class="r-in"><span><span class="co"># as well as removing ontology and protocol information in the metadata.</span></span></span>
<span class="r-in"><span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu">MetaboLightsParam</span><span class="op">(</span>mtblsId <span class="op">=</span> <span class="st">"MTBLS39"</span>, filePattern <span class="op">=</span> <span class="st">"63A.cdf"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ms_experiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="saveMsObject.html">readMsObject</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/MsExperiment/man/MsExperiment.html" class="external-link">MsExperiment</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">param</span> , keepOntology <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                              keepProtocol <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Only one assay file found:a_MTBLS39_the_plasticity_of_the_grapevine_berry_transcriptome_metabolite_profiling_mass_spectrometry.txt</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Used data files from the assay's column "Raw Spectral Data File" since none were available in column "Derived Spectral Data File".</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

