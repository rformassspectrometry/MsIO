<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Store xcms preprocessing results to a file in mzTab-M format. — mzTabParam • MsIO</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Store xcms preprocessing results to a file in mzTab-M format. — mzTabParam"><meta name="description" content="The saveMsObject() and readMsObject() methods with the mzTabParam
option enable users to save/load XcmsExperiment objects in Mz-Tab-m
file format. Mainly the metadata (MTD) and Small molecule feature (SMF)
tables will represent the XcmsExperiment. More specifically, sampleData()
of the object will be stored in the metadata section (MTD) along with the
user-inputed studyId  and polarity. The featureDefinitions() will be
stored in the small molecule feature (SMF) section but by default only the
mzmed, rtmed, rtmin and rtmax are exported. More info avaialble in
featureDefinitions() can be exported by specifying the
optionalFeatureColumns parameter. The featureValues() will also be
stored in the small molecule feature (SMF) section.
The small molecule summary section (SML) will be filled with null values
as no annotation and identification of compound is performed in xcms.
Writing data to a folder that contains already exported data will result in
an error."><meta property="og:description" content="The saveMsObject() and readMsObject() methods with the mzTabParam
option enable users to save/load XcmsExperiment objects in Mz-Tab-m
file format. Mainly the metadata (MTD) and Small molecule feature (SMF)
tables will represent the XcmsExperiment. More specifically, sampleData()
of the object will be stored in the metadata section (MTD) along with the
user-inputed studyId  and polarity. The featureDefinitions() will be
stored in the small molecule feature (SMF) section but by default only the
mzmed, rtmed, rtmin and rtmax are exported. More info avaialble in
featureDefinitions() can be exported by specifying the
optionalFeatureColumns parameter. The featureValues() will also be
stored in the small molecule feature (SMF) section.
The small molecule summary section (SML) will be filled with null values
as no annotation and identification of compound is performed in xcms.
Writing data to a folder that contains already exported data will result in
an error."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MsIO</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MsIO.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/MsIO/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Store xcms preprocessing results to a file in mzTab-M format.</h1>
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/MsIO/blob/main/R/mzTabParam.R" class="external-link"><code>R/mzTabParam.R</code></a>, <a href="https://github.com/RforMassSpectrometry/MsIO/blob/main/R/XcmsExperiment.R" class="external-link"><code>R/XcmsExperiment.R</code></a></small>
      <div class="d-none name"><code>mzTabParam.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code><a href="saveMsObject.html">saveMsObject()</a></code> and <code><a href="saveMsObject.html">readMsObject()</a></code> methods with the <code>mzTabParam</code>
option enable users to save/load <code>XcmsExperiment</code> objects in Mz-Tab-m
file format. Mainly the metadata (MTD) and Small molecule feature (SMF)
tables will represent the <code>XcmsExperiment</code>. More specifically, <code><a href="https://rdrr.io/pkg/MsExperiment/man/MsExperiment.html" class="external-link">sampleData()</a></code>
of the object will be stored in the metadata section (MTD) along with the
user-inputed <code>studyId</code>  and <code>polarity</code>. The <code><a href="https://rdrr.io/pkg/xcms/man/XCMSnExp-class.html" class="external-link">featureDefinitions()</a></code> will be
stored in the small molecule feature (SMF) section but by default only the
<code>mzmed</code>, <code>rtmed</code>, <code>rtmin</code> and <code>rtmax</code> are exported. More info avaialble in
<code><a href="https://rdrr.io/pkg/xcms/man/XCMSnExp-class.html" class="external-link">featureDefinitions()</a></code> can be exported by specifying the
<code>optionalFeatureColumns</code> parameter. The <code><a href="https://rdrr.io/pkg/xcms/man/XCMSnExp-peak-grouping-results.html" class="external-link">featureValues()</a></code> will also be
stored in the small molecule feature (SMF) section.</p>
<p>The small molecule summary section (SML) will be filled with <code>null</code> values
as no annotation and identification of compound is performed in <code>xcms</code>.</p>
<p>Writing data to a folder that contains already exported data will result in
an error.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mzTabParam</span><span class="op">(</span></span>
<span>  studyId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  polarity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"positive"</span>, <span class="st">"negative"</span><span class="op">)</span>,</span>
<span>  sampleDataColumn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  optionalFeatureColumns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'XcmsExperiment,mzTabParam'</span></span>
<span><span class="fu"><a href="saveMsObject.html">saveMsObject</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">param</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-studyid">studyId<a class="anchor" aria-label="anchor" href="#arg-studyid"></a></dt>
<dd><p><code>character(1)</code> Will be both the <code>filename</code> of the object
saved in mzTab-M format and the <code>mzTab-ID</code> in the file.</p></dd>


<dt id="arg-polarity">polarity<a class="anchor" aria-label="anchor" href="#arg-polarity"></a></dt>
<dd><p><code>character(1)</code> Describes the polarity of the experiment. Two
inputs are possible, "positive" (default) or "negative".</p></dd>


<dt id="arg-sampledatacolumn">sampleDataColumn<a class="anchor" aria-label="anchor" href="#arg-sampledatacolumn"></a></dt>
<dd><p><code>character</code> strings corresponding to the column
name(s) of the <code><a href="https://rdrr.io/pkg/MsExperiment/man/MsExperiment.html" class="external-link">sampleData()</a></code> of the <code>XcmsExperiment</code> object with the
different <em>variables</em> of the experiment, for example it could be
<em>"phenotype"</em>, <em>"sample_type"</em>, etc...</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p><code>character(1)</code> Define where the file is going to be stored. The
default will be <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>.</p></dd>


<dt id="arg-optionalfeaturecolumns">optionalFeatureColumns<a class="anchor" aria-label="anchor" href="#arg-optionalfeaturecolumns"></a></dt>
<dd><p>Optional columns from <code><a href="https://rdrr.io/pkg/xcms/man/XCMSnExp-class.html" class="external-link">featureDefinitions()</a></code>
that should be exported too. For example it could be <em>"ms_level"</em>,
<em>"npeaks"</em>, etc...</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional optional arguments. See documentation of respective
method for more information.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>for <code><a href="saveMsObject.html">saveMsObject()</a></code>: the MS data object to save, for
<code><a href="saveMsObject.html">readMsObject()</a></code>: the MS data object that should be returned</p></dd>


<dt id="arg-param">param<a class="anchor" aria-label="anchor" href="#arg-param"></a></dt>
<dd><p>an object defining and (eventually configuring) the file format
and file name or directory to/from which the data object should be
exported/imported.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>dots</code></dt>
<dd><p>Correspond to any optional parameters to be passed
to the <code><a href="https://rdrr.io/pkg/xcms/man/XCMSnExp-peak-grouping-results.html" class="external-link">featureValues()</a></code> function. (e.g. parameters <code>method</code> or <code>value</code>).</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This function was build so that the output fit the recommendation of
mzTab-M file format version 2.0. These can be found here:
(http://hupo-psi.github.io/mzTab/2_0-metabolomics-release/mzTab_format_specification_2_0-M_release.html)</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hoffmann N, Rein J, Sachsenberg T, Hartler J, Haug K, Mayer G, Alka O,
Dayalan S, Pearce JTM, Rocca-Serra P, Qi D, Eisenacher M, Perez-Riverol Y,
Vizcaino JA, Salek RM, Neumann S, Jones AR. mzTab-M: A Data Standard for
Sharing Quantitative Results in Mass Spectrometry Metabolomics. Anal Chem.
2019 Mar 5;91(5):3302-3310. doi: 10.1021/acs.analchem.8b04310. Epub 2019 Feb
13. PMID: 30688441; PMCID: PMC6660005.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other MS object export and import formats.:
<code><a href="AlabasterParam.html">AlabasterParam</a></code>,
<code><a href="PlainTextParam.html">PlainTextParam</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Philippine Louail, Johannes Rainer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Load a test data set with detected peaks, of class `XcmsExperiment`</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sneumann/xcms" class="external-link">xcms</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test_xcms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xcms/man/loadXcmsData.html" class="external-link">loadXcmsData</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Define param</span></span></span>
<span class="r-in"><span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu">mzTabParam</span><span class="op">(</span>studyId <span class="op">=</span> <span class="st">"test"</span>,</span></span>
<span class="r-in"><span>                    polarity <span class="op">=</span> <span class="st">"positive"</span>,</span></span>
<span class="r-in"><span>                    sampleDataColumn <span class="op">=</span> <span class="st">"sample_type"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Save as a mzTab-M file</span></span></span>
<span class="r-in"><span><span class="fu"><a href="saveMsObject.html">saveMsObject</a></span><span class="op">(</span><span class="va">test_xcms</span>, <span class="va">param</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

